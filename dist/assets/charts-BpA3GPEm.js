import{c as t,u as A}from"./vendor-B5zl8zIZ.js";import{C as h}from"./components-DD5MIsL-.js";let z=[],k=[],T=[],I=[],L=0,P=0;function w(e,a){const n=L,r=z[n];let s=!0;a&&r&&(s=a.some((f,i)=>f!==r[i])),s&&(k[n]&&k[n](),I.push(()=>{const f=e();k[n]=f}),z[n]=a),L++}function W(e){const a=P;T[a]||(T[a]={current:e});const n=T[a];return P++,n}function G(){const e=[...I];I=[],e.forEach(a=>a())}const S=class S{static generate(a=6,n){return this.getItemsByCategory(n).slice(0,a).map(f=>({label:f,value:Math.floor(Math.random()*5e4)+1e4,region:this.regions[Math.floor(Math.random()*this.regions.length)],year:2025,category:n||this.getCategoryForItem(f),date:new Date(2025,Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1)}))}static simulateUpdate(a){return a.map(n=>({...n,value:Math.max(5e3,n.value+(Math.random()-.5)*1e4)}))}static filterByCategory(a,n){return a.filter(r=>r.category===n)}static filterByRegion(a,n){return a.filter(r=>r.region===n)}static filterByDateRange(a,n,r){return a.filter(s=>s.date?s.date>=n&&s.date<=r:!1)}static getTopN(a,n){return[...a].sort((r,s)=>s.value-r.value).slice(0,n)}static getCategories(){return[...this.categories]}static getRegions(){return[...this.regions]}static generateTimeSeries(a,n=30){const r=[],s=Math.floor(Math.random()*3e4)+1e4;for(let f=0;f<n;f++){const i=new Date(2025,0,f+1),d=(Math.random()-.5)*5e3;r.push({label:i.toLocaleDateString(),value:Math.max(5e3,s+d+f*500),date:i,category:"Fruits"})}return r}static getItemsByCategory(a){if(!a)return[...this.fruitsData,...this.vegetablesData,...this.dairyData,...this.grainsData];switch(a){case"Fruits":return this.fruitsData;case"Vegetables":return this.vegetablesData;case"Dairy":return this.dairyData;case"Grains":return this.grainsData;default:return this.fruitsData}}static getCategoryForItem(a){return this.fruitsData.includes(a)?"Fruits":this.vegetablesData.includes(a)?"Vegetables":this.dairyData.includes(a)?"Dairy":this.grainsData.includes(a)?"Grains":"Fruits"}};S.categories=["Fruits","Vegetables","Dairy","Grains"],S.regions=["Asia","Europe","America","Africa"],S.fruitsData=["Apple","Orange","Banana","Strawberry","Blueberry","Mango"],S.vegetablesData=["Carrot","Broccoli","Spinach","Tomato","Potato","Lettuce"],S.dairyData=["Milk","Cheese","Yogurt","Butter","Cream","Ice Cream"],S.grainsData=["Rice","Wheat","Corn","Oats","Barley","Quinoa"];let b=S;const C=["#EE6055","#17BEBB","#AAF683","#FFD97D","#FF9B85","#3B3C8A"],V=({data:e,type:a,width:n=600,height:r=350,onDataPointClick:s})=>{const f=W(null),i=W(-1);return w(()=>{const o=f.current;if(!o){console.warn("‚ö†Ô∏è Canvas not found!");return}const l=o.getContext("2d");if(!l)return;switch(l.clearRect(0,0,n,r),l.fillStyle="#f9fafb",l.fillRect(0,0,n,r),a){case"bar":R(l,e,n,r,i.current);break;case"line":E(l,e,n,r,i.current);break;case"pie":F(l,e,n,r,i.current);break}const p=g=>{const m=o.getBoundingClientRect(),y=g.clientX-m.left,v=g.clientY-m.top;let x=-1;if(a==="bar"?x=H(y,v,e,n,r):a==="pie"?x=Y(y,v,e,n,r):a==="line"&&(x=U(y,v,e,n,r)),x!==i.current)switch(i.current=x,l.clearRect(0,0,n,r),l.fillStyle="#f9fafb",l.fillRect(0,0,n,r),a){case"bar":R(l,e,n,r,i.current);break;case"line":E(l,e,n,r,i.current);break;case"pie":F(l,e,n,r,i.current);break}o.style.cursor=x>=0?"pointer":"default"},u=g=>{i.current>=0&&s&&s(e[i.current])};return o.addEventListener("mousemove",p),o.addEventListener("click",u),()=>{o.removeEventListener("mousemove",p),o.removeEventListener("click",u)}},[e,a]),t("div",{style:{position:"relative",textAlign:"center"}},t("canvas",{ref:f,width:n,height:r,style:{borderRadius:"10px"}}),t("div",{style:{marginTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"12px"}},e.map((o,l)=>t("div",{key:l,style:{display:"flex",alignItems:"center",gap:"6px"}},t("div",{style:{width:"14px",height:"14px",background:C[l%C.length],borderRadius:"3px"}}),t("span",{style:{fontSize:"13px",color:"#374151"}},o.label,": ",o.value.toLocaleString())))))};function R(e,a,n,r,s){const f=Math.max(...a.map(o=>o.value)),i=n/a.length-20,d=10;a.forEach((o,l)=>{const p=o.value/f*(r-80),u=l*(i+20)+d,g=r-p-30,m=l===s;e.fillStyle=C[l%C.length],e.globalAlpha=m?1:.85,e.beginPath(),e.roundRect(u,g,i,p,6),e.fill(),e.globalAlpha=1,e.fillStyle="#111827",e.font=m?"bold 14px Montserrat":"13px Montserrat",e.textAlign="center",e.fillText(o.value.toLocaleString(),u+i/2,g-6),e.fillStyle="#374151",e.font="13px Montserrat",e.fillText(o.label,u+i/2,r-10)})}function E(e,a,n,r,s){const f=Math.max(...a.map(o=>o.value)),i=n/(a.length-1),d=e.createLinearGradient(0,0,0,r);d.addColorStop(0,"rgba(23,190,187,0.25)"),d.addColorStop(1,"rgba(255,255,255,0)"),e.beginPath(),e.moveTo(0,r),a.forEach((o,l)=>{const p=l*i,u=r-o.value/f*(r-80);e.lineTo(p,u)}),e.lineTo(n,r),e.closePath(),e.fillStyle=d,e.fill(),e.beginPath(),e.strokeStyle="#17BEBB",e.lineWidth=3,a.forEach((o,l)=>{const p=l*i,u=r-o.value/f*(r-80);l===0?e.moveTo(p,u):e.lineTo(p,u)}),e.stroke(),a.forEach((o,l)=>{const p=l*i,u=r-o.value/f*(r-80),g=l===s;e.fillStyle=C[l%C.length],e.beginPath(),e.arc(p,u,g?8:6,0,Math.PI*2),e.fill(),g&&(e.fillStyle="#111827",e.font="bold 12px Montserrat",e.textAlign="center",e.fillText(o.value.toLocaleString(),p,u-15))})}function F(e,a,n,r,s){const f=a.reduce((p,u)=>p+u.value,0),i=n/2,d=r/2-20,o=Math.min(n,r)/3;let l=0;a.forEach((p,u)=>{const g=p.value/f*2*Math.PI,m=u===s,y=m?Math.cos(l+g/2)*10:0,v=m?Math.sin(l+g/2)*10:0;e.beginPath(),e.moveTo(i+y,d+v),e.arc(i+y,d+v,o,l,l+g),e.closePath(),e.fillStyle=C[u%C.length],e.globalAlpha=m?1:.85,e.fill(),e.globalAlpha=1;const x=(p.value/f*100).toFixed(1),D=l+g/2,M=i+y+Math.cos(D)*(o*.6),c=d+v+Math.sin(D)*(o*.6);e.fillStyle="#fff",e.font=m?"bold 14px Montserrat":"12px Montserrat",e.textAlign="center",e.textBaseline="middle",e.fillText(`${x}%`,M,c),l+=g})}function H(e,a,n,r,s){const f=r/n.length-20,i=10,d=Math.max(...n.map(o=>o.value));for(let o=0;o<n.length;o++){const l=n[o].value/d*(s-80),p=o*(f+20)+i,u=s-l-30;if(e>=p&&e<=p+f&&a>=u&&a<=u+l)return o}return-1}function U(e,a,n,r,s){const f=r/(n.length-1),i=Math.max(...n.map(o=>o.value)),d=15;for(let o=0;o<n.length;o++){const l=o*f,p=s-n[o].value/i*(s-80);if(Math.sqrt(Math.pow(e-l,2)+Math.pow(a-p,2))<=d)return o}return-1}function Y(e,a,n,r,s){const f=r/2,i=s/2-20,d=Math.min(r,s)/3,o=e-f,l=a-i;if(Math.sqrt(o*o+l*l)>d)return-1;let u=Math.atan2(l,o);u<0&&(u+=2*Math.PI);const g=n.reduce((y,v)=>y+v.value,0);let m=0;for(let y=0;y<n.length;y++){const v=n[y].value/g*2*Math.PI;if(u>=m&&u<=m+v)return y;m+=v}return-1}const q=()=>{const[e,a]=A(b.generate()),[n,r]=A("bar"),[s,f]=A("All"),[i,d]=A(!1),[o,l]=A(null),[p,u]=A(null),g=e(),m=()=>{const c=s==="All"?b.generate(6):b.generate(6,s);a(c),l(null)},y=()=>{if(i())p()&&(clearInterval(p()),u(null)),d(!1);else{d(!0);const c=setInterval(()=>{a(b.simulateUpdate(e()))},2e3);u(c)}},v=c=>{r(c)},x=c=>{f(c);const B=c==="All"?b.generate(6):b.generate(6,c);a(B),l(null)},D=c=>{l(c)},M={total:g.reduce((c,B)=>c+B.value,0),average:Math.round(g.reduce((c,B)=>c+B.value,0)/g.length),max:Math.max(...g.map(c=>c.value)),min:Math.min(...g.map(c=>c.value))};return t("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"}},t("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"32px",marginBottom:"32px",color:"#fff",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"}},t("h2",{style:{margin:0,marginBottom:"8px",fontSize:"32px",fontWeight:"700"}},"üìä Sales Dashboard"),t("p",{style:{margin:0,opacity:.9,fontSize:"16px"}},"Real-time analytics and interactive charts")),t("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"}},t(h,null,t("div",{style:{textAlign:"center"}},t("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"}},"Total Sales"),t("div",{style:{fontSize:"24px",fontWeight:"700",color:"#111827"}},"$",M.total.toLocaleString()))),t(h,null,t("div",{style:{textAlign:"center"}},t("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"}},"Average"),t("div",{style:{fontSize:"24px",fontWeight:"700",color:"#3b82f6"}},"$",M.average.toLocaleString()))),t(h,null,t("div",{style:{textAlign:"center"}},t("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"}},"Highest"),t("div",{style:{fontSize:"24px",fontWeight:"700",color:"#10b981"}},"$",M.max.toLocaleString()))),t(h,null,t("div",{style:{textAlign:"center"}},t("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"}},"Lowest"),t("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ef4444"}},"$",M.min.toLocaleString())))),t(h,{title:"Controls"},t("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},t("div",null,t("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"}},"Chart Type"),t("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"}},["bar","line","pie"].map(c=>t("button",{key:c,onClick:()=>v(c),style:{background:n()===c?"#4f46e5":"#f3f4f6",color:n()===c?"#fff":"#374151",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"}},c.charAt(0).toUpperCase()+c.slice(1))))),t("div",null,t("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"}},"Category Filter"),t("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"}},["All",...b.getCategories()].map(c=>t("button",{key:c,onClick:()=>x(c),style:{background:s()===c?"#10b981":"#f3f4f6",color:s()===c?"#fff":"#374151",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"}},c)))),t("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"}},t("button",{onClick:m,style:{background:"#4f46e5",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},"üîÑ Refresh Data"),t("button",{onClick:y,style:{background:i()?"#ef4444":"#10b981",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},i()?"‚è∏Ô∏è Stop":"‚ñ∂Ô∏è Start"," Auto-Update")))),t("div",{style:{marginTop:"24px"}},t(h,{title:`${n().charAt(0).toUpperCase()+n().slice(1)} Chart - ${s()}`},t(V,{data:g,type:n(),width:800,height:400,onDataPointClick:D}))),o()&&t("div",{style:{marginTop:"24px"}},t(h,{title:"üìå Selected Data Point"},t("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"}},t("div",null,t("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"}},"Label"),t("div",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"}},o().label)),t("div",null,t("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"}},"Value"),t("div",{style:{fontSize:"16px",fontWeight:"600",color:"#4f46e5"}},"$",o().value.toLocaleString())),o().category&&t("div",null,t("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"}},"Category"),t("div",{style:{fontSize:"16px",fontWeight:"600",color:"#10b981"}},o().category)),o().region&&t("div",null,t("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"}},"Region"),t("div",{style:{fontSize:"16px",fontWeight:"600",color:"#f59e0b"}},o().region))))),t("div",{style:{marginTop:"24px"}},t(h,null,t("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.6"}},t("strong",{style:{color:"#374151"}},"üí° Interactive Features:"),t("ul",{style:{marginTop:"8px",paddingLeft:"20px"}},t("li",null,"Hover over chart elements to highlight them"),t("li",null,"Click on data points to view details"),t("li",null,"Switch between Bar, Line, and Pie charts"),t("li",null,"Filter data by category (Fruits, Vegetables, Dairy, Grains)"),t("li",null,"Enable auto-update to simulate real-time data changes"))))))};export{q as D,G as r};
//# sourceMappingURL=charts-BpA3GPEm.js.map
